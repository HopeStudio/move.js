<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="utf-8">
    <meta content="initial-scale=1,maximum-scale=1,user-scalable=no,width=device-width" name="viewport">
    <meta http-equiv="X-UA-Compatible" content="ie=edge, chrome=1">
    <meta name="renderer" content="webkit">
    <title>Hi!</title>
    <style>
        #box {
            width: 300px;
            height: 300px;
            background-color: darkred;
            position: relative;
            z-index: -1;
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div>
        项目源码：<a href="https://github.com/yangfch3/move.js">move.js</a><br>
        缓动函数列表：<a href="http://easings.net/zh-cn">easings</a>
    </div>
    <div>
        <br>
        <br>
        // 用法：move(element, propsObject[, duration][, fx][, compvareCallback])<br>
        // move($('#box'), {opacity: 0, width:'500px'}, 10000, 'easeInOutSine', function(){console.log('done')})
    </div>
    <form id="dashboard">
        <select name="pxProps" id="pxProps" size="1">
            <option value="translateX">translateX</option>
            <option value="translateY">translateY</option>
            <option value="translateZ">translateZ</option>
        </select>
        <select name="px" id="px" size="1">
            <option value="100">-100px</option>
            <option value="300">100px</option>
            <option value="700">300px</option>
        </select>
        <select name="numProps" id="numProps" size="1">
            <option value="scale">scale</option>
            <option value="scaleX">scaleX</option>
            <option value="scaleY">scaleY</option>
            <option value="scaleZ">scaleZ</option>
        </select>
        <select name="num" id="num" size="1">
            <option value="0.5">.5</option>
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="1.5">1.5</option>
        </select>
        <select name="degProps" id="degProps" size="1">
            <option value="rotate">rotate</option>
            <option value="rotateX">rotateX</option>
            <option value="rotateY">rotateY</option>
            <option value="rotateZ">rotateZ</option>
            <option value="skew">skew</option>
            <option value="skewX">skewX</option>
            <option value="skewY">skewY</option>
            <option value="perspective">perspective</option>
        </select>
        <select name="deg" id="deg" size="1">
            <option value="-30">-30</option>
            <option value="60">60</option>
            <option value="120">120</option>
            <option value="245">245</option>
        </select>
        <select name="time" id="time" size="1">
            <option value="400">400 ms（默认）</option>
            <option value="1000">1000 ms</option>
            <option value="5000">5000 ms</option>
        </select>
        <select name="fx" id="fx" size="1">
            <option disabled>缓动函数列表见上方缓动函数列表链接 ↑</option>        
            <option value="linear">linear（默认）</option>
            <option value="easeInQuad">easeInQuad</option>
            <option value="easeOutQuad">easeOutQuad</option>
            <option value="easeInOutQuad">easeInOutQuad</option>
            <option value="easeInCubic">easeInCubic</option>
            <option value="easeOutCubic">easeOutCubic</option>
            <option value="easeInOutCubic">easeInOutCubic</option>
            <option value="easeInQuart">easeInQuart</option>
            <option value="easeOutQuart">easeOutQuart</option>
            <option value="easeInOutQuart">easeInOutQuart</option>
            <option value="easeInQuint">easeInQuint</option>
            <option value="easeOutQuint">easeOutQuint</option>
            <option value="easeInOutQuint">easeInOutQuint</option>
            <option value="easeInSine">easeInSine</option>
            <option value="easeOutSine">easeOutSine</option>
            <option value="easeInOutSine">easeInOutSine</option>
            <option value="easeInExpo">easeInExpo</option>
            <option value="easeOutExpo">easeOutExpo</option>
            <option value="easeInOutExpo">easeInOutExpo</option>
            <option value="easeInCirc">easeInCirc</option>
            <option value="easeOutCirc">easeOutCirc</option>
            <option value="easeInOutCirc">easeInOutCirc</option>
            <option value="easeInElastic">easeInElastic</option>
            <option value="easeOutElastic">easeOutElastic</option>
            <option value="easeInOutElastic">easeInOutElastic</option>
            <option value="easeInBack">easeInBack</option>
            <option value="easeOutBack">easeOutBack</option>
            <option value="easeInOutBack">easeInOutBack</option>
            <option value="easeInBounce">easeInBounce</option>
            <option value="easeOutBounce">easeOutBounce</option>
            <option value="easeInOutBounce">easeInOutBounce</option>
        </select>
        <input type="button" value="运行" id="trigger">
        <input type="button" value="重置" id="init">
    </form>
    <div id="box"></div>
    <script src="./move.js"></script>
    <script>
        var box = document.querySelector('#box');
        document.querySelector('#trigger').addEventListener('click', function(e) {
            var props = {};
            props[document.querySelector('#pxProps').value] = document.querySelector('#px').value;
            props[document.querySelector('#numProps').value] = document.querySelector('#num').value;
            props[document.querySelector('#degProps').value] = document.querySelector('#deg').value;

            var time = parseFloat(document.querySelector('#time').value);
            var fx = document.querySelector('#fx').value;
            this.disabled = true;
            document.querySelector('#init').disabled = true;
            var that = this;
            move(box, props, time, fx, function() {
                that.disabled = false;
                document.querySelector('#init').disabled = false;
                console.log('done!');
            });
        }, false);

        document.querySelector('#init').addEventListener('click', function(e) {
            var that = this;
            this.disabled = true;
            document.querySelector('#trigger').disabled = true;
            move(box, {
                translateX: 0,
                translateY: 0,
                translateZ: 0,
                scale: 1,
                scaleX: 1,
                scaleY: 1,
                scaleZ: 1,
                rotate: 0,
                rotateX: 0,
                rotateY: 0,
                rotateZ: 0,
                skew: 0,
                skewX: 0,
                skewY: 0 
            }, parseFloat(document.querySelector('#time').value), document.querySelector('#fx').value, function() {
                that.disabled = false;
                document.querySelector('#trigger').disabled = false;
                console.log('init done!')
            })
        })
    </script>
</body>
</html>
